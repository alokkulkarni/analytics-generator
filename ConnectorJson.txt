curl --location 'http://localhost:8083/connectors' \
--header 'Content-Type: application/json' \
--data '{
    "name": "property-connector",
    "config": {
        "connector.class": "io.debezium.connector.mysql.MySqlConnector",
        "database.allowPublicKeyRetrieval":"true",
        "database.hostname": "host.docker.internal",
        "database.port": "3306",
        "database.user": "root",
        "database.password": "verysecret",
        "database.include.list": "transactions_db",
        "table.include.list": "transactions_db.transactions",
        "topic.prefix": "transactions_db",
        "database.server.name": "transactions_db",
        "include.schema.changes": "false",
        "schema.history.internal.kafka.bootstrap.servers":  "broker:29092",
        "schema.history.internal.kafka.topic": "schema-changes.db",
        "database.server.id": 1
    }
}'



curl --location 'http://localhost:8083/connectors' \
--header 'Content-Type: application/json' \
--data '{
    "name": "elastic-sink",
    "config": {
        "connector.class":
        "io.confluent.connect.elasticsearch.ElasticsearchSinkConnector",
        "tasks.max": "1",
        "topics": ["transactions_db.transactions_db.transactions"],
        "connection.url": "http://es-container:9200",
        "key.ignore": "true",
        "schema.ignore": "true",
        "type.name": "transactions",
        "transforms": "extractId",
        "transforms.extractId.type": "org.apache.kafka.connect.transforms.ExtractField$Key",
        "transforms.extractId.field": "transactionId"
    }
}'